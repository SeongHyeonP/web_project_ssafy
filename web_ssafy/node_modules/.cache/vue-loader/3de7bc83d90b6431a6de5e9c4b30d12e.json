{"remainingRequest":"C:\\SSAFY\\FinalPJT\\web_project_ssafy_\\web_ssafy\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\SSAFY\\FinalPJT\\web_project_ssafy_\\web_ssafy\\src\\components\\user\\MemberManage.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\SSAFY\\FinalPJT\\web_project_ssafy_\\web_ssafy\\src\\components\\user\\MemberManage.vue","mtime":1637842014993},{"path":"C:\\SSAFY\\FinalPJT\\web_project_ssafy_\\web_ssafy\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1637727713499},{"path":"C:\\SSAFY\\FinalPJT\\web_project_ssafy_\\web_ssafy\\node_modules\\babel-loader\\lib\\index.js","mtime":1637727889069},{"path":"C:\\SSAFY\\FinalPJT\\web_project_ssafy_\\web_ssafy\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1637727713499},{"path":"C:\\SSAFY\\FinalPJT\\web_project_ssafy_\\web_ssafy\\node_modules\\vue-loader\\lib\\index.js","mtime":1637727768972}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgaHR0cCBmcm9tICJAL3V0aWwvaHR0cC1jb21tb24iOw0KaW1wb3J0IHsgbWFwU3RhdGUsIG1hcE11dGF0aW9ucyB9IGZyb20gInZ1ZXgiOw0KaW1wb3J0IHsgd2l0aGRyYXdhbCB9IGZyb20gIkAvYXBpL21lbWJlciI7DQoNCmNvbnN0IG1lbWJlclN0b3JlID0gIm1lbWJlclN0b3JlIjsNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAiTWVtYmVyTWFuYWdlIiwNCiAgY29tcG9uZW50czoge30sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGZpZWxkczogWw0KICAgICAgICB7DQogICAgICAgICAga2V5OiAidXNlcmlkIiwNCiAgICAgICAgICBsYWJlbDogIlVzZXIgSUQiLA0KICAgICAgICAgIHNvcnRhYmxlOiB0cnVlLA0KICAgICAgICAgIHNvcnREaXJlY3Rpb246ICJkZXNjIiwNCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgIGtleTogInVzZXJuYW1lIiwNCiAgICAgICAgICBsYWJlbDogIlVzZXIgTmFtZSIsDQogICAgICAgICAgc29ydGFibGU6IHRydWUsDQogICAgICAgICAgY2xhc3M6ICJ0ZXh0LWNlbnRlciIsDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICBrZXk6ICJlbWFpbCIsDQogICAgICAgICAgbGFiZWw6ICJVc2VyIEVtYWlsIiwNCiAgICAgICAgICBzb3J0YWJsZTogZmFsc2UsDQogICAgICAgICAgY2xhc3M6ICJ0ZXh0LWNlbnRlciIsDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICBrZXk6ICJqb2luZGF0ZSIsDQogICAgICAgICAgbGFiZWw6ICLqsIDsnoXrgqDsp5wiLA0KICAgICAgICAgIHNvcnRhYmxlOiB0cnVlLA0KICAgICAgICAgIGNsYXNzOiAidGV4dC1jZW50ZXIiLA0KICAgICAgICB9LA0KICAgICAgICB7IGtleTogImFjdGlvbnMiLCBsYWJlbDogIuyEoO2DnSIgfSwNCiAgICAgIF0sDQogICAgICB1c2VyOiBbXSwNCiAgICAgIHRvdGFsUm93czogMSwNCiAgICAgIGN1cnJlbnRQYWdlOiAxLA0KICAgICAgcGVyUGFnZTogNSwNCiAgICAgIHNvcnRCeTogIiIsDQogICAgICBzb3J0RGVzYzogZmFsc2UsDQogICAgICBzb3J0RGlyZWN0aW9uOiAiYXNjIiwNCiAgICAgIHNlbGVjdE1vZGU6ICJzaW5nbGUiLA0KICAgICAgc2VsZWN0ZWQ6IFtdLA0KICAgIH07DQogIH0sDQogIGNvbXB1dGVkOiB7DQogICAgLi4ubWFwU3RhdGUobWVtYmVyU3RvcmUsIFsidXNlckluZm8iXSksDQogIH0sDQogIGNyZWF0ZWQoKSB7DQogICAgaWYgKHRoaXMudXNlckluZm8udXNlcmlkID09ICJhZG1pbiIpIHsNCiAgICAgIGh0dHAuZ2V0KGAvdXNlci9saXN0YCkudGhlbigoeyBkYXRhIH0pID0+IHsNCiAgICAgICAgdGhpcy51c2VyID0gZGF0YTsNCiAgICAgICAgdGhpcy50b3RhbFJvd3MgPSB0aGlzLnVzZXIubGVuZ3RoOw0KICAgICAgfSk7DQogICAgfSBlbHNlIHsNCiAgICAgIGFsZXJ0KCLqtIDrpqzsnpDrp4wg7KCR6re8IOqwgOuKpSIpOw0KICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBuYW1lOiAiSG9tZSIgfSk7DQogICAgfQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgLi4ubWFwTXV0YXRpb25zKG1lbWJlclN0b3JlLCBbIlNFVF9JU19MT0dJTiIsICJTRVRfVVNFUl9JTkZPIl0pLA0KICAgIG9uQ2xpY2tXaXRoZHJhd2FsKCkgew0KICAgICAgaWYgKHRoaXMuc2VsZWN0ZWQubGVuZ3RoID4gMCkgew0KICAgICAgICBsZXQgbXNnID0gIu2ajOybkCDtg4jth7Trpbwg7JmE66OM7ZaI7Iq164uI64ukIjsNCiAgICAgICAgd2l0aGRyYXdhbCgNCiAgICAgICAgICB0aGlzLnNlbGVjdGVkWzBdLnVzZXJpZCwNCiAgICAgICAgICAoeyBkYXRhIH0pID0+IHsNCiAgICAgICAgICAgIGlmIChkYXRhID09PSAic3VjY2VzcyIpIHsNCiAgICAgICAgICAgICAgYWxlcnQobXNnKTsNCiAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLmdvKCk7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICBtc2cgPSAi7ZqM7JuQIO2DiO2HtCDsmKTrpZgiOw0KICAgICAgICAgICAgICBhbGVydChtc2cpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0sDQogICAgICAgICAgKGVycm9yKSA9PiB7DQogICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7DQogICAgICAgICAgfQ0KICAgICAgICApOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgYWxlcnQoIu2ajOybkOydhCDshKDtg53tlbTso7zshLjsmpQiKTsNCiAgICAgIH0NCiAgICB9LA0KICAgIHVwZGF0ZUluZm8oKSB7DQogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IG5hbWU6ICJ1cGRhdGVJbmZvIiB9KTsNCiAgICB9LA0KICAgIG9uUm93U2VsZWN0ZWQoaXRlbXMpIHsNCiAgICAgIHRoaXMuc2VsZWN0ZWQgPSBpdGVtczsNCiAgICB9LA0KICAgIG9uTW9kaWZ5KCkgew0KICAgICAgaWYgKHRoaXMuc2VsZWN0ZWQubGVuZ3RoID4gMCkgew0KICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnNlbGVjdGVkWzBdKTsNCiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goew0KICAgICAgICAgIG5hbWU6ICJ1cGRhdGVJbmZvQWRtaW4iLA0KICAgICAgICAgIHBhcmFtczogdGhpcy5zZWxlY3RlZFswXSwNCiAgICAgICAgfSk7DQogICAgICB9IGVsc2Ugew0KICAgICAgICBhbGVydCgi7ZqM7JuQ7J2EIOyEoO2Dne2VtOyjvOyEuOyalCIpOw0KICAgICAgfQ0KICAgIH0sDQogIH0sDQp9Ow0K"},{"version":3,"sources":["MemberManage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsFA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"MemberManage.vue","sourceRoot":"src/components/user","sourcesContent":["<template>\r\n  <b-container class=\"mt-4\" v-if=\"userInfo\">\r\n    <b-row>\r\n      <b-col>\r\n        <p\r\n          style=\"\r\n            font-weight: bold;\r\n            font-size: 2em;\r\n            color: #3b3838;\r\n            margin: 40px 0px;\r\n          \"\r\n        >\r\n          회원관리\r\n        </p>\r\n      </b-col>\r\n    </b-row>\r\n    <b-row>\r\n      <b-col></b-col>\r\n      <b-col cols=\"10\">\r\n        <b-jumbotron>\r\n          <b-container fluid>\r\n            <b-row align=\"right\"\r\n              ><b-col\r\n                ><b-button\r\n                  size=\"sm\"\r\n                  style=\"margin-right: 10px\"\r\n                  @click=\"onModify\"\r\n                >\r\n                  수정 </b-button\r\n                ><b-button size=\"sm\" @click=\"onClickWithdrawal\">\r\n                  삭제\r\n                </b-button></b-col\r\n              ></b-row\r\n            >\r\n            <br />\r\n            <b-table\r\n              :items=\"user\"\r\n              :fields=\"fields\"\r\n              :current-page=\"currentPage\"\r\n              :per-page=\"perPage\"\r\n              :sort-by.sync=\"sortBy\"\r\n              :sort-desc.sync=\"sortDesc\"\r\n              :sort-direction=\"sortDirection\"\r\n              :select-mode=\"selectMode\"\r\n              responsive=\"sm\"\r\n              ref=\"selectableTable\"\r\n              selectable\r\n              @row-selected=\"onRowSelected\"\r\n              stacked=\"md\"\r\n              small\r\n            >\r\n              <template #cell(actions)=\"{ rowSelected }\">\r\n                <template v-if=\"rowSelected\">\r\n                  <span aria-hidden=\"true\">&check;</span>\r\n                  <span class=\"sr-only\">Selected</span>\r\n                </template>\r\n                <template v-else>\r\n                  <span aria-hidden=\"true\">&nbsp;</span>\r\n                  <span class=\"sr-only\">Not selected</span>\r\n                </template>\r\n              </template>\r\n            </b-table>\r\n            <!-- User Interface controls -->\r\n            <b-row align=\"center\">\r\n              <!-- <b-col></b-col> -->\r\n              <b-col>\r\n                <b-pagination\r\n                  v-model=\"currentPage\"\r\n                  :total-rows=\"totalRows\"\r\n                  :per-page=\"perPage\"\r\n                  align=\"fill\"\r\n                  class=\"my-0\"\r\n                  pills\r\n                  aria-controls=\"items\"\r\n                ></b-pagination>\r\n              </b-col>\r\n            </b-row>\r\n          </b-container>\r\n        </b-jumbotron>\r\n      </b-col>\r\n      <b-col></b-col>\r\n    </b-row>\r\n  </b-container>\r\n</template>\r\n\r\n<script>\r\nimport http from \"@/util/http-common\";\r\nimport { mapState, mapMutations } from \"vuex\";\r\nimport { withdrawal } from \"@/api/member\";\r\n\r\nconst memberStore = \"memberStore\";\r\n\r\nexport default {\r\n  name: \"MemberManage\",\r\n  components: {},\r\n  data() {\r\n    return {\r\n      fields: [\r\n        {\r\n          key: \"userid\",\r\n          label: \"User ID\",\r\n          sortable: true,\r\n          sortDirection: \"desc\",\r\n        },\r\n        {\r\n          key: \"username\",\r\n          label: \"User Name\",\r\n          sortable: true,\r\n          class: \"text-center\",\r\n        },\r\n        {\r\n          key: \"email\",\r\n          label: \"User Email\",\r\n          sortable: false,\r\n          class: \"text-center\",\r\n        },\r\n        {\r\n          key: \"joindate\",\r\n          label: \"가입날짜\",\r\n          sortable: true,\r\n          class: \"text-center\",\r\n        },\r\n        { key: \"actions\", label: \"선택\" },\r\n      ],\r\n      user: [],\r\n      totalRows: 1,\r\n      currentPage: 1,\r\n      perPage: 5,\r\n      sortBy: \"\",\r\n      sortDesc: false,\r\n      sortDirection: \"asc\",\r\n      selectMode: \"single\",\r\n      selected: [],\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState(memberStore, [\"userInfo\"]),\r\n  },\r\n  created() {\r\n    if (this.userInfo.userid == \"admin\") {\r\n      http.get(`/user/list`).then(({ data }) => {\r\n        this.user = data;\r\n        this.totalRows = this.user.length;\r\n      });\r\n    } else {\r\n      alert(\"관리자만 접근 가능\");\r\n      this.$router.push({ name: \"Home\" });\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapMutations(memberStore, [\"SET_IS_LOGIN\", \"SET_USER_INFO\"]),\r\n    onClickWithdrawal() {\r\n      if (this.selected.length > 0) {\r\n        let msg = \"회원 탈퇴를 완료했습니다\";\r\n        withdrawal(\r\n          this.selected[0].userid,\r\n          ({ data }) => {\r\n            if (data === \"success\") {\r\n              alert(msg);\r\n              this.$router.go();\r\n            } else {\r\n              msg = \"회원 탈퇴 오류\";\r\n              alert(msg);\r\n            }\r\n          },\r\n          (error) => {\r\n            console.log(error);\r\n          }\r\n        );\r\n      } else {\r\n        alert(\"회원을 선택해주세요\");\r\n      }\r\n    },\r\n    updateInfo() {\r\n      this.$router.push({ name: \"updateInfo\" });\r\n    },\r\n    onRowSelected(items) {\r\n      this.selected = items;\r\n    },\r\n    onModify() {\r\n      if (this.selected.length > 0) {\r\n        console.log(this.selected[0]);\r\n        this.$router.push({\r\n          name: \"updateInfoAdmin\",\r\n          params: this.selected[0],\r\n        });\r\n      } else {\r\n        alert(\"회원을 선택해주세요\");\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style></style>\r\n"]}]}