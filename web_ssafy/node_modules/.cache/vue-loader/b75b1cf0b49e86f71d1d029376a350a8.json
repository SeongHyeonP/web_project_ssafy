{"remainingRequest":"C:\\Users\\psh\\Desktop\\ssafy\\dailyproject\\vue\\t\\web_project_ssafy\\web_ssafy\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\psh\\Desktop\\ssafy\\dailyproject\\vue\\t\\web_project_ssafy\\web_ssafy\\src\\components\\user\\MemberJoin.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\psh\\Desktop\\ssafy\\dailyproject\\vue\\t\\web_project_ssafy\\web_ssafy\\src\\components\\user\\MemberJoin.vue","mtime":1637472750703},{"path":"C:\\Users\\psh\\Desktop\\ssafy\\dailyproject\\vue\\t\\web_project_ssafy\\web_ssafy\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\psh\\Desktop\\ssafy\\dailyproject\\vue\\t\\web_project_ssafy\\web_ssafy\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\psh\\Desktop\\ssafy\\dailyproject\\vue\\t\\web_project_ssafy\\web_ssafy\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\psh\\Desktop\\ssafy\\dailyproject\\vue\\t\\web_project_ssafy\\web_ssafy\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBodHRwIGZyb20gIkAvdXRpbC9odHRwLWNvbW1vbiI7CmltcG9ydCB7IG1hcFN0YXRlLCBtYXBBY3Rpb25zIH0gZnJvbSAidnVleCI7Cgpjb25zdCBtZW1iZXJTdG9yZSA9ICJtZW1iZXJTdG9yZSI7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIk1lbWJlckpvaW4iLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1c2VyOiB7CiAgICAgICAgdXNlcmlkOiBudWxsLAogICAgICAgIHVzZXJuYW1lOiBudWxsLAogICAgICAgIHVzZXJwd2Q6IG51bGwsCiAgICAgICAgZW1haWw6IG51bGwsCiAgICAgIH0sCiAgICAgIHVzZXJwd2RjaGVjazogbnVsbCwKICAgICAgd3JvbmdQd2Q6IGZhbHNlLAogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICAuLi5tYXBTdGF0ZShtZW1iZXJTdG9yZSwgWyJpc0xvZ2luIiwgImlzTG9naW5FcnJvciJdKSwKICB9LAogIG1ldGhvZHM6IHsKICAgIC4uLm1hcEFjdGlvbnMobWVtYmVyU3RvcmUsIFsidXNlckNvbmZpcm0iLCAiZ2V0VXNlckluZm8iXSksCiAgICBhc3luYyBjb25maXJtKCkgewogICAgICBhd2FpdCB0aGlzLnVzZXJDb25maXJtKHRoaXMudXNlcik7CiAgICAgIGxldCB0b2tlbiA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oImFjY2Vzcy10b2tlbiIpOwogICAgICBpZiAodGhpcy5pc0xvZ2luKSB7CiAgICAgICAgYXdhaXQgdGhpcy5nZXRVc2VySW5mbyh0b2tlbik7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBuYW1lOiAiSG9tZSIgfSk7CiAgICAgIH0KICAgIH0sCiAgICBvblN1Ym1pdChldmVudCkgewogICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICBsZXQgZXJyID0gdHJ1ZTsKICAgICAgbGV0IG1zZyA9ICIiOwogICAgICAhdGhpcy51c2VyLnVzZXJpZCAmJgogICAgICAgICgobXNnID0gIklE66W8IOyeheugpe2VtOyjvOyEuOyalCIpLCAoZXJyID0gZmFsc2UpLCB0aGlzLiRyZWZzLnVzZXJpZC5mb2N1cygpKTsKICAgICAgZXJyICYmCiAgICAgICAgIXRoaXMudXNlci51c2VybmFtZSAmJgogICAgICAgICgobXNnID0gIuydtOumhOydhCDsnoXroKXtlbTso7zshLjsmpQiKSwKICAgICAgICAoZXJyID0gZmFsc2UpLAogICAgICAgIHRoaXMuJHJlZnMudXNlcm5hbWUuZm9jdXMoKSk7CiAgICAgIGVyciAmJgogICAgICAgICF0aGlzLnVzZXIuZW1haWwgJiYKICAgICAgICAoKG1zZyA9ICLsnbTrqZTsnbzsnYQg7J6F66Cl7ZW07KO87IS47JqUIiksCiAgICAgICAgKGVyciA9IGZhbHNlKSwKICAgICAgICB0aGlzLiRyZWZzLmVtYWlsLmZvY3VzKCkpOwoKICAgICAgaWYgKCFlcnIpIGFsZXJ0KG1zZyk7CiAgICAgIGVsc2UgdGhpcy5yZWdpc3Rlck1lbWJlcigpOwogICAgfSwKICAgIG9uUmVzZXQoZXZlbnQpIHsKICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgICAgdGhpcy51c2VyLnVzZXJpZCA9IG51bGw7CiAgICAgIHRoaXMudXNlci51c2VybmFtZSA9IG51bGw7CiAgICAgIHRoaXMudXNlci51c2VycHdkID0gbnVsbDsKICAgICAgdGhpcy51c2VycHdkY2hlY2sgPSBudWxsOwogICAgICB0aGlzLnVzZXIuZW1haWwgPSBudWxsOwogICAgfSwKICAgIHJlZ2lzdGVyTWVtYmVyKCkgewogICAgICBodHRwCiAgICAgICAgLnBvc3QoYC91c2VyL3JlZ2lzdGVyYCwgewogICAgICAgICAgdXNlcmlkOiB0aGlzLnVzZXIudXNlcmlkLAogICAgICAgICAgdXNlcm5hbWU6IHRoaXMudXNlci51c2VybmFtZSwKICAgICAgICAgIHVzZXJwd2Q6IHRoaXMudXNlci51c2VycHdkLAogICAgICAgICAgZW1haWw6IHRoaXMudXNlci5lbWFpbCwKICAgICAgICB9KQogICAgICAgIC50aGVuKCh7IGRhdGEgfSkgPT4gewogICAgICAgICAgbGV0IG1zZyA9ICLrk7HroZ0g7LKY66as7IucIOusuOygnOqwgCDrsJzsg53tlojsirXri4jri6QuIjsKICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpOwogICAgICAgICAgaWYgKGRhdGEgPT09ICJzdWNjZXNzIikgewogICAgICAgICAgICBtc2cgPSAi65Ox66Gd7J20IOyZhOujjOuQmOyXiOyKteuLiOuLpC4iOwogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IG5hbWU6ICJTaWduSW4iIH0pOwogICAgICAgICAgfQogICAgICAgICAgYWxlcnQobXNnKTsKICAgICAgICB9KTsKICAgIH0sCiAgfSwKICB1cGRhdGVkKCkgewogICAgaWYgKHRoaXMudXNlci51c2VycHdkICE9IHRoaXMudXNlcnB3ZGNoZWNrKSB7CiAgICAgIHRoaXMud3JvbmdQd2QgPSB0cnVlOwogICAgfSBlbHNlIHsKICAgICAgdGhpcy53cm9uZ1B3ZCA9IGZhbHNlOwogICAgfQogIH0sCn07Cg=="},{"version":3,"sources":["MemberJoin.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyFA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"MemberJoin.vue","sourceRoot":"src/components/user","sourcesContent":["<template>\n  <b-container class=\"bv-example-row mt-3\">\n    <b-row>\n      <b-col></b-col>\n      <b-col cols=\"5\">\n        <b-alert variant=\"secondary\" show><h3>회원가입</h3></b-alert>\n      </b-col>\n      <b-col></b-col>\n    </b-row>\n    <b-row>\n      <b-col></b-col>\n      <b-col cols=\"5\">\n        <b-card class=\"text-center mt-3\" style=\"max-width: 40rem\" align=\"left\">\n          <b-form class=\"text-left\" @submit=\"onSubmit\" @reset=\"onReset\">\n            <b-form-group label=\"아이디\" label-for=\"userid\">\n              <b-form-input\n                id=\"userid\"\n                v-model=\"user.userid\"\n                required\n                placeholder=\"User ID\"\n                @keyup.enter=\"confirm\"\n              ></b-form-input>\n            </b-form-group>\n            <b-form-group label=\"이름\" label-for=\"username\">\n              <b-form-input\n                id=\"username\"\n                v-model=\"user.username\"\n                required\n                placeholder=\"User Name\"\n                @keyup.enter=\"confirm\"\n              ></b-form-input>\n            </b-form-group>\n            <b-form-group label=\"비밀번호\" label-for=\"userpwd\">\n              <b-form-input\n                type=\"password\"\n                id=\"userpwd\"\n                v-model=\"user.userpwd\"\n                required\n                placeholder=\"User Password\"\n                @keyup.enter=\"confirm\"\n              ></b-form-input>\n            </b-form-group>\n            <b-form-group\n              label=\"비밀번호 확인\"\n              label-for=\"userpwdcheck\"\n              style=\"margin-bottom: 0px\"\n            >\n              <b-form-input\n                type=\"password\"\n                id=\"userpwdcheck\"\n                v-model=\"userpwdcheck\"\n                required\n                placeholder=\"Check User Password\"\n                @keyup.enter=\"confirm\"\n              ></b-form-input>\n            </b-form-group>\n            <p v-show=\"wrongPwd\" style=\"color: red; font-size: 10px\">\n              &nbsp;비밀번호가 일치하지 않습니다.\n            </p>\n            <b-form-group\n              label=\"이메일\"\n              label-for=\"email\"\n              style=\"margin-top: 1rem\"\n            >\n              <b-form-input\n                type=\"email\"\n                id=\"email\"\n                v-model=\"user.email\"\n                required\n                placeholder=\"User Email\"\n                @keyup.enter=\"confirm\"\n              ></b-form-input>\n            </b-form-group>\n            <br />\n            <b-button type=\"submit\" variant=\"success\" class=\"m-1\"\n              >회원가입</b-button\n            >\n            <b-button type=\"reset\" variant=\"danger\" class=\"m-1\"\n              >초기화</b-button\n            >\n          </b-form>\n        </b-card>\n      </b-col>\n      <b-col></b-col>\n    </b-row>\n  </b-container>\n</template>\n\n<script>\nimport http from \"@/util/http-common\";\nimport { mapState, mapActions } from \"vuex\";\n\nconst memberStore = \"memberStore\";\n\nexport default {\n  name: \"MemberJoin\",\n  data() {\n    return {\n      user: {\n        userid: null,\n        username: null,\n        userpwd: null,\n        email: null,\n      },\n      userpwdcheck: null,\n      wrongPwd: false,\n    };\n  },\n  computed: {\n    ...mapState(memberStore, [\"isLogin\", \"isLoginError\"]),\n  },\n  methods: {\n    ...mapActions(memberStore, [\"userConfirm\", \"getUserInfo\"]),\n    async confirm() {\n      await this.userConfirm(this.user);\n      let token = sessionStorage.getItem(\"access-token\");\n      if (this.isLogin) {\n        await this.getUserInfo(token);\n        this.$router.push({ name: \"Home\" });\n      }\n    },\n    onSubmit(event) {\n      event.preventDefault();\n      let err = true;\n      let msg = \"\";\n      !this.user.userid &&\n        ((msg = \"ID를 입력해주세요\"), (err = false), this.$refs.userid.focus());\n      err &&\n        !this.user.username &&\n        ((msg = \"이름을 입력해주세요\"),\n        (err = false),\n        this.$refs.username.focus());\n      err &&\n        !this.user.email &&\n        ((msg = \"이메일을 입력해주세요\"),\n        (err = false),\n        this.$refs.email.focus());\n\n      if (!err) alert(msg);\n      else this.registerMember();\n    },\n    onReset(event) {\n      event.preventDefault();\n      this.user.userid = null;\n      this.user.username = null;\n      this.user.userpwd = null;\n      this.userpwdcheck = null;\n      this.user.email = null;\n    },\n    registerMember() {\n      http\n        .post(`/user/register`, {\n          userid: this.user.userid,\n          username: this.user.username,\n          userpwd: this.user.userpwd,\n          email: this.user.email,\n        })\n        .then(({ data }) => {\n          let msg = \"등록 처리시 문제가 발생했습니다.\";\n          console.log(data);\n          if (data === \"success\") {\n            msg = \"등록이 완료되었습니다.\";\n            this.$router.push({ name: \"SignIn\" });\n          }\n          alert(msg);\n        });\n    },\n  },\n  updated() {\n    if (this.user.userpwd != this.userpwdcheck) {\n      this.wrongPwd = true;\n    } else {\n      this.wrongPwd = false;\n    }\n  },\n};\n</script>\n\n<style></style>\n"]}]}