{"remainingRequest":"C:\\SSAFY\\FinalPJT\\web_project_ssafy\\web_ssafy\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\SSAFY\\FinalPJT\\web_project_ssafy\\web_ssafy\\src\\components\\board\\BoardView.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\SSAFY\\FinalPJT\\web_project_ssafy\\web_ssafy\\src\\components\\board\\BoardView.vue","mtime":1637682421865},{"path":"C:\\SSAFY\\FinalPJT\\web_project_ssafy\\web_ssafy\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1637484063101},{"path":"C:\\SSAFY\\FinalPJT\\web_project_ssafy\\web_ssafy\\node_modules\\babel-loader\\lib\\index.js","mtime":1637484054320},{"path":"C:\\SSAFY\\FinalPJT\\web_project_ssafy\\web_ssafy\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1637484063101},{"path":"C:\\SSAFY\\FinalPJT\\web_project_ssafy\\web_ssafy\\node_modules\\vue-loader\\lib\\index.js","mtime":1637484133978}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQovLyBpbXBvcnQgbW9tZW50IGZyb20gIm1vbWVudCI7DQppbXBvcnQgaHR0cCBmcm9tICJAL3V0aWwvaHR0cC1jb21tb24iOw0KaW1wb3J0IE1lbW9MaXN0Um93IGZyb20gIkAvY29tcG9uZW50cy9ib2FyZC9jaGlsZC9NZW1vTGlzdFJvdyI7DQppbXBvcnQgTWVtb1dyaXRlRm9ybSBmcm9tICJAL2NvbXBvbmVudHMvYm9hcmQvY2hpbGQvTWVtb1dyaXRlRm9ybSI7DQppbXBvcnQgeyBtYXBTdGF0ZSB9IGZyb20gInZ1ZXgiOw0KDQpjb25zdCBtZW1iZXJTdG9yZSA9ICJtZW1iZXJTdG9yZSI7DQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgY29tcG9uZW50czogew0KICAgIE1lbW9MaXN0Um93LA0KICAgIE1lbW9Xcml0ZUZvcm0sDQogIH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGFydGljbGU6IHt9LA0KICAgICAgbWVtb3M6IFtdLA0KICAgICAgaXNTaG93TWVtbzogZmFsc2UsDQogICAgICBjYW5EZWxldGU6IGZhbHNlLA0KICAgIH07DQogIH0sDQogIGNvbXB1dGVkOiB7DQogICAgLi4ubWFwU3RhdGUobWVtYmVyU3RvcmUsIFsiaXNMb2dpbiIsICJ1c2VySW5mbyJdKSwNCiAgICBtZXNzYWdlKCkgew0KICAgICAgaWYgKHRoaXMuYXJ0aWNsZS5jb250ZW50KSB7DQogICAgICAgIHJldHVybiB0aGlzLmFydGljbGUuY29udGVudC5zcGxpdCgiXG4iKS5qb2luKCI8YnI+Iik7DQogICAgICB9DQogICAgICByZXR1cm4gIiI7DQogICAgfSwNCiAgICAvLyBjaGFuZ2VEYXRlRm9ybWF0KCkgew0KICAgIC8vICAgcmV0dXJuIG1vbWVudChuZXcgRGF0ZSh0aGlzLmFydGljbGUucmVndGltZSkpLmZvcm1hdCgNCiAgICAvLyAgICAgIllZWVkuTU0uREQgaGg6bW06c3MiDQogICAgLy8gICApOw0KICAgIC8vIH0sDQogIH0sDQogIGNyZWF0ZWQoKSB7DQogICAgaHR0cC5nZXQoYC9ib2FyZC8ke3RoaXMuJHJvdXRlLnBhcmFtcy5hcnRpY2xlbm99YCkudGhlbigoeyBkYXRhIH0pID0+IHsNCiAgICAgIHRoaXMuYXJ0aWNsZSA9IGRhdGE7DQogICAgICBpZiAodGhpcy5hcnRpY2xlLnVzZXJpZCA9PSB0aGlzLnVzZXJJbmZvLnVzZXJpZCkgew0KICAgICAgICB0aGlzLmNhbkRlbGV0ZSA9IHRydWU7DQogICAgICB9DQogICAgICBpZiAodGhpcy51c2VySW5mby51c2VyaWQgPT0gImFkbWluIikgew0KICAgICAgICB0aGlzLmNhbkRlbGV0ZSA9IHRydWU7DQogICAgICB9DQogICAgfSk7DQogICAgaHR0cC5nZXQoYC9ib2FyZC9tZW1vLyR7dGhpcy4kcm91dGUucGFyYW1zLmFydGljbGVub31gKS50aGVuKCh7IGRhdGEgfSkgPT4gew0KICAgICAgdGhpcy5tZW1vcyA9IGRhdGE7DQogICAgfSk7DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBsaXN0QXJ0aWNsZSgpIHsNCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgbmFtZTogIkJvYXJkTGlzdCIgfSk7DQogICAgfSwNCiAgICBtb3ZlTW9kaWZ5QXJ0aWNsZSgpIHsNCiAgICAgIHRoaXMuJHJvdXRlci5yZXBsYWNlKHsNCiAgICAgICAgbmFtZTogIkJvYXJkVXBkYXRlIiwNCiAgICAgICAgcGFyYW1zOiB7IGFydGljbGVubzogdGhpcy5hcnRpY2xlLmFydGljbGVubyB9LA0KICAgICAgfSk7DQogICAgICAvLyAgIHRoaXMuJHJvdXRlci5wdXNoKHsgcGF0aDogYC9ib2FyZC9tb2RpZnkvJHt0aGlzLmFydGljbGUuYXJ0aWNsZW5vfWAgfSk7DQogICAgfSwNCiAgICBkZWxldGVBcnRpY2xlKCkgew0KICAgICAgaWYgKGNvbmZpcm0oIuygleunkOuhnCDsgq3soJw/IikpIHsNCiAgICAgICAgdGhpcy4kcm91dGVyLnJlcGxhY2Uoew0KICAgICAgICAgIG5hbWU6ICJCb2FyZERlbGV0ZSIsDQogICAgICAgICAgcGFyYW1zOiB7IGFydGljbGVubzogdGhpcy5hcnRpY2xlLmFydGljbGVubyB9LA0KICAgICAgICB9KTsNCiAgICAgIH0NCiAgICB9LA0KICAgIHdyaXRlTWVtbygpIHsNCiAgICAgIHRoaXMuaXNTaG93TWVtbyA9ICF0aGlzLmlzU2hvd01lbW87DQogICAgfSwNCiAgfSwNCn07DQo="},{"version":3,"sources":["BoardView.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6EA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"BoardView.vue","sourceRoot":"src/components/board","sourcesContent":["<template>\r\n  <b-container class=\"bv-example-row mt-3\">\r\n    <b-row>\r\n      <b-col>\r\n        <p\r\n          style=\"\r\n            font-weight: bold;\r\n            font-size: 2em;\r\n            color: #3b3838;\r\n            margin: 80px 0px;\r\n          \"\r\n        >\r\n          게시판\r\n        </p>\r\n      </b-col>\r\n    </b-row>\r\n    <b-row class=\"mb-1\">\r\n      <b-col class=\"text-left\">\r\n        <b-button\r\n          style=\"border: 0px; background-color: #8999ac\"\r\n          @click=\"listArticle\"\r\n          >목록</b-button\r\n        >\r\n      </b-col>\r\n      <b-col class=\"text-right\" v-show=\"canDelete\">\r\n        <b-button\r\n          class=\"mr-2\"\r\n          style=\"border: 0px; background-color: #426289\"\r\n          @click=\"moveModifyArticle\"\r\n          >글수정</b-button\r\n        >\r\n        <b-button\r\n          style=\"border: 0px; background-color: #8999ac\"\r\n          @click=\"deleteArticle\"\r\n          >글삭제</b-button\r\n        >\r\n      </b-col>\r\n    </b-row>\r\n    <br />\r\n    <b-row class=\"mb-1\">\r\n      <b-col>\r\n        <b-card\r\n          :header-html=\"`<h3>${article.articleno}.\r\n          ${article.subject} [${article.hit}]</h3><div><h6>${article.userid}</div><div>${article.regtime}</h6></div>`\"\r\n          class=\"mb-2\"\r\n          border-variant=\"dark\"\r\n          no-body\r\n        >\r\n          <b-card-body class=\"text-left\">\r\n            <div v-html=\"message\"></div>\r\n          </b-card-body>\r\n        </b-card>\r\n      </b-col>\r\n    </b-row>\r\n    <b-row class=\"mb-1\">\r\n      <b-col class=\"text-left\">\r\n        <div><strong>댓글(QnA) 목록</strong></div>\r\n      </b-col>\r\n      <b-col class=\"text-right\">\r\n        <b-button\r\n          v-if=\"!isShowMemo\"\r\n          variant=\"outline-info\"\r\n          size=\"sm\"\r\n          @click=\"writeMemo\"\r\n          >댓글(QnA) 작성 쓰기</b-button\r\n        >\r\n        <b-button v-else variant=\"outline-info\" size=\"sm\" @click=\"writeMemo\"\r\n          >댓글(QnA) 작성 취소</b-button\r\n        >\r\n      </b-col>\r\n    </b-row>\r\n    <memo-write-form v-if=\"isShowMemo\"></memo-write-form>\r\n    <memo-list-row v-for=\"(memo, index) in memos\" :key=\"index\" v-bind=\"memo\" />\r\n  </b-container>\r\n</template>\r\n\r\n<script>\r\n// import moment from \"moment\";\r\nimport http from \"@/util/http-common\";\r\nimport MemoListRow from \"@/components/board/child/MemoListRow\";\r\nimport MemoWriteForm from \"@/components/board/child/MemoWriteForm\";\r\nimport { mapState } from \"vuex\";\r\n\r\nconst memberStore = \"memberStore\";\r\n\r\nexport default {\r\n  components: {\r\n    MemoListRow,\r\n    MemoWriteForm,\r\n  },\r\n  data() {\r\n    return {\r\n      article: {},\r\n      memos: [],\r\n      isShowMemo: false,\r\n      canDelete: false,\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState(memberStore, [\"isLogin\", \"userInfo\"]),\r\n    message() {\r\n      if (this.article.content) {\r\n        return this.article.content.split(\"\\n\").join(\"<br>\");\r\n      }\r\n      return \"\";\r\n    },\r\n    // changeDateFormat() {\r\n    //   return moment(new Date(this.article.regtime)).format(\r\n    //     \"YYYY.MM.DD hh:mm:ss\"\r\n    //   );\r\n    // },\r\n  },\r\n  created() {\r\n    http.get(`/board/${this.$route.params.articleno}`).then(({ data }) => {\r\n      this.article = data;\r\n      if (this.article.userid == this.userInfo.userid) {\r\n        this.canDelete = true;\r\n      }\r\n      if (this.userInfo.userid == \"admin\") {\r\n        this.canDelete = true;\r\n      }\r\n    });\r\n    http.get(`/board/memo/${this.$route.params.articleno}`).then(({ data }) => {\r\n      this.memos = data;\r\n    });\r\n  },\r\n  methods: {\r\n    listArticle() {\r\n      this.$router.push({ name: \"BoardList\" });\r\n    },\r\n    moveModifyArticle() {\r\n      this.$router.replace({\r\n        name: \"BoardUpdate\",\r\n        params: { articleno: this.article.articleno },\r\n      });\r\n      //   this.$router.push({ path: `/board/modify/${this.article.articleno}` });\r\n    },\r\n    deleteArticle() {\r\n      if (confirm(\"정말로 삭제?\")) {\r\n        this.$router.replace({\r\n          name: \"BoardDelete\",\r\n          params: { articleno: this.article.articleno },\r\n        });\r\n      }\r\n    },\r\n    writeMemo() {\r\n      this.isShowMemo = !this.isShowMemo;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style></style>\r\n"]}]}